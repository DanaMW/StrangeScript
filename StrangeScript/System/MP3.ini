[script]
n0=:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::;:::;::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
n1=;;;;;;;;;;;;                               (c) 2001-2026 Dana L. Meli-Wischman for StrangeScript only                                ;;;;;;;;;;;;;;;;;;;;;;;
n2=;If you use this code I want my name in it or you're a cock sucking worthless fuck that shouldn't live past today.;;;
n3=:::::::::::::::::::::::::::::::::::::::::::::::::::Have a nice day;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
n4=;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
n5=;
n6=;-----------------------------------------------------------------------------
n7=Major Version (xx)
n8=alias mmpp1 return 6
n9=;
n10=;Minor version (xx)
n11=alias mmpp2 return 16
n12=;
n13=;month (xx)
n14=alias mmpp3 return 01
n15=;
n16=;day (xx)
n17=alias mmpp4 return 01
n18=;
n19=;year (xxxx)
n20=alias mmpp5 return 2026
n21=;-----------------------------------------------------------------------
n22=alias showoff {
n23=  msg # I get to pick one of $findfile($songs,*.*,0) Songs
n24=}
n25=alias mp3.prep {
n26=  set %Transcend.version Transcend[ $+ %Transcend.build $+ . $+ $mmpp3 $+ . $+ $mmpp4 $+ . $+ $mmpp5 $+ ]
n27=  set %Transcend.build $mmpp1 $+ . $+ $mmpp2
n28=  set %Transcend.title %Transcend.name %Transcend.build by Dana L. Meli-Wischman
n29=  if (%Transcend.crossfade == $null) { set %Transcend.crossfade 0 }
n30=  return
n31=}
n32=alias mp3 {
n33=  if ($songs == $null) { masterwrite settings songs $$?="Enter the location of your music." }
n34=  if (%Transcend.showinfo == $null) { set %Transcend.showinfo LOCAL }
n35=  if (%Transcend.usePlayList == $null) { set %Transcend.usePlayList 0 } 
n36=  mp3.prep
n37=  if (%Transcend.showinfo == $null) { set %Transcend.showinfo ON }
n38=  if ($1 == /?) || ($1 == /help) || ($1 == -h) || ($1 == -HELP) { echo -at $report(%Transcend.title,$null,$null,Available commands are) $report($null,$null,$null,$null,/MP3) $report($null,$null,$null,$null,/MP3 INFO) $report($null,$null,$null,$null,/MP3 STOP) $report($null,$null,$null,$null,/MP3 RAND) $report($null,$null,$null,$null,/MP3 HELP) | halt }
n39=  if ($1 == INFO) { InfoX.MP3 | halt }
n40=  if ($1 == STOP) {
n41=    splay -p stop
n42=    .timerTranscendsh off
n43=    set %Transcend.mode Spool
n44=    set %mybar.temp ""
n45=    set %Transcend.lastdir ""
n46=    if ($dialog(mp3p).x != $null) {
n47=      did -o mp3p 5 1 Current Play: None
n48=      did -o mp3p 4 1 Click here to pick one of $findfile($songs,*.*,0) Songs
n49=    }
n50=    .timerCKEDIT 1 0 check.edit
n51=    $report(%Transcend.name %Transcend.build,$null,%Transcend.mode,Stopped).active
n52=    halt
n53=  }
n54=  if ($1 == RAND) || ($1 == RANDOM) { mp3.random | splay seek $calc($inmp3.length - 50) | CurPlay | return }
n55=  if ($dialog(mp3p).x != $null) { .dialog -erv mp3p mp3play }
n56=  else { .dialog -mderv mp3p mp3play }
n57=}
n58=dialog mp3play {
n59=  title " $+ %Transcend.title $+ "
n60=  icon StrangeScript.ani
n61=  size -1 -1 210 100
n62=  option dbu
n63=  button "Exit", 1, 180 76 20 10, ok
n64=  edit "", 3, 10 15 160 10, multi, vsbar
n65=  ;list 3, 10 15 160 10, size, vsbar
n66=  button "Click here to pick one of 0 Songs", 4, 10 25 190 10,
n67=  text "Current Play: None", 5, 10 5 190 10
n68=  button "Play", 6, 10 40 20 10,
n69=  button "Stop", 9, 30 40 20 10,
n70=  button "Pause", 7, 50 40 20 10,
n71=  button "Resume", 8, 70 40 30 10,
n72=  button "|<", 24, 110 40 10 10,
n73=  button "<<<<", 21, 120 40 20 10,
n74=  button ">>>>", 22, 140 40 20 10,
n75=  button ">|", 25, 160 40 10 10,
n76=  text "", 10, 10 53 165 9
n77=  button "Up", 11, 43 62 33 10,
n78=  button "Down", 12, 10 62 33 10,
n79=  button "Mute", 13, 76 62 33 10,
n80=  text "", 14, 10 75 165 9
n81=  button "On", 15, 10 84 33 10,
n82=  button "Local", 16, 43 84 33 10,
n83=  button "Extra", 23, 76 84 33 10,
n84=  button "Off", 26, 109 84 33 10,
n85=  button "Rand", 17, 180 40 20 10,
n86=  button "Bump", 18, 180 52 20 10,
n87=  button "All", 19, 180 64 20 10,
n88=  button "Rename", 20, 170 15 30 10
n89=}
n90=on *:dialog:mp3p:init:0: {
n91=  var %rtmp = 1
n92=  while (%rtmp <= $var(%Transcend.play*,0)) {
n93=    did -o mp3p 3 %rtmp $nopath(%Transcend.play [ $+ [ %rtmp ] ] )
n94=    inc %rtmp
n95=    if (%rtmp > $var(%Transcend.play*,0)) { break }
n96=  }
n97=  did -o mp3p 3 1 $nopath(%Transcend.play1)
n98=  check.edit
n99=  did -f mp3p 3 1
n100=  did -b mp3p 19
n101=  did -b mp3p 8
n102=  did -o mp3p 5 1 Current Play: None
n103=  did -o mp3p 10 1 $str($chr(146),$round($calc($vol(master) / 65535 * 100),0))
n104=  did -o mp3p 4 1 Click here to pick one of $findfile($songs,*.mp3,0) Songs
n105=  if ($vol(master).mute == $true) { vol -vu1 | did -o mp3p 10 1 Muted }
n106=  if ($vol(master).mute == $false) { vol -vu2 | did -o mp3p 10 1 $str($chr(146),$round($calc($vol(master) / 65535 * 100),0)) $round($calc($vol(master) / 65535 * 100),0) $+ % }
n107=  if ($vol(wave).mute == $true) { vol -wu1 | did -o mp3p 14 1 Muted }
n108=  if ($vol(wave).mute == $false) { vol -wu2 | did -o mp3p 14 1 $str($chr(146),$round($calc($vol(wave) / 65535 * 100),0)) $round($calc($vol(wave) / 65535 * 100),0) $+ % }
n109=  .timerCKEDIT 1 0 check.edit
n110=  MP3Title
n111=  if (%Transcend.showinfo == ON) { did -f mp3p 15 }
n112=  if (%Transcend.showinfo == LOCAL) { did -f mp3p 16 }
n113=  if (%Transcend.showinfo == EXTRA) { did -f mp3p 23 }
n114=  if (%Transcend.showinfo == OFF) { did -f mp3p 26 }
n115=}
n116=;on *:dialog:mp3p:*:*: {
n117=;echo -st $dname $devent $did
n118=;if ($did == 14) { vol -w $calc($vol(wave) +3000) | did -o mp3p 14 1 $str($chr(146),$round($calc($vol(wave) / 65535 * 100),0)) $round($calc($vol(wav) / 65535 * 100),0) $+ % }
n119=;f ($did == 16) { vol -w $calc($vol(wave) -3000) | did -o mp3p 14 1 $str($chr(146),$round($calc($vol(wave) / 65535 * 100),0)) $round($calc($vol(wav) / 65535 * 100),0) $+ % }
n120=;}
n121=;on *:dialog:mp3p:*:*: {
n122=;
n123=;  if ($devent != mouse) { echo -at Event triggered $dname $devent $did }
n124=;
n125=;}
n126=on *:dialog:mp3p:sclick:*: {
n127=  if (%Transcend.showinfo == ON) { did -f mp3p 15 }
n128=  if (%Transcend.showinfo == LOCAL) { did -f mp3p 16 }
n129=  if (%Transcend.showinfo == EXTRA) { did -f mp3p 23 }
n130=  if (%Transcend.showinfo == OFF) { did -f mp3p 26 }
n131=  if ($did == 4) { .timer 1 0 Pick.MP3 }
n132=  if ($did == 6) { Send.MP3 }
n133=  if ($did == 7) { splay pause | did -b mp3p 7 | did -e mp3p 8 }
n134=  if ($did == 8) { splay resume | did -b mp3p 8 | did -e mp3p 7 }
n135=  if ($did == 9) {
n136=    splay -p stop
n137=    .timerTranscendsh off
n138=    set %Transcend.mode Spool
n139=    set %mybar.temp ""
n140=    set %Transcend.lastdir ""
n141=    did -o mp3p 5 1 Current Play: None
n142=    did -ot mp3p 4 1 Click here to pick one of $findfile($songs,*.mp3,0) Songs
n143=    .timerCKEDIT 1 0 check.edit
n144=  }
n145=  if ($did == 11) { vol -v $calc($vol(master) +1000) | did -o mp3p 10 1 $str($chr(146),$round($calc($vol(master) / 65535 * 100),0)) $round($calc($vol(master) / 65535 * 100),0) $+ % }
n146=  if ($did == 12) { vol -v $calc($vol(master) -1000) | did -o mp3p 10 1 $str($chr(146),$round($calc($vol(master) / 65535 * 100),0)) $round($calc($vol(master) / 65535 * 100),0) $+ % }
n147=  if ($did == 13) {
n148=    if ($vol(master).mute == $true) { did -o mp3p 13 1 Mute | vol -vu2 | did -o mp3p 10 1 $str($chr(146),$round($calc($vol(master) / 65535 * 100),0)) $round($calc($vol(master) / 65535 * 100),0) $+ % }
n149=    else { vol -vu1 | did -o mp3p 10 1 Muted | did -o mp3p 13 1 UnMute }
n150=  }
n151=  if ($did == 15) { set %Transcend.showinfo ON }
n152=  if ($did == 16) { set %Transcend.showinfo LOCAL }
n153=  if ($did == 23) { set %Transcend.showinfo EXTRA }
n154=  if ($did == 26) { set %Transcend.showinfo OFF }
n155=  if ($did == 17) { mp3.random }
n156=  if ($did == 18) { mp3.bump }
n157=  if ($did == 20) { Rename.MP3 }
n158=  if ($did == 21) { if ($inmp3 == $true) { splay seek $calc($inmp3.pos - 2000) | CurPlay | return } }
n159=  if ($did == 22) { if ($inmp3 == $true) { splay seek $calc($inmp3.pos + 2000) | CurPlay | return } }
n160=  if ($did == 24) { if ($inmp3 == $true) { splay seek 0 | CurPlay | return } }
n161=  if ($did == 25) { if ($inmp3 == $true) { splay seek $calc($inmp3.length - 50) | CurPlay | return } }
n162=}
n163=alias MP3Title {
n164=  ;
n165=  MP3Title.send %Transcend.title
n166=  return
n167=  ;
n168=  if ($dialog(mp3p).x == $null) { return }
n169=  set %Transcend.tmp 1
n170=  set %Transcend.tmp1 35
n171=  while (%Transcend.tmp1 > 0) {
n172=    .timerb $+ %Transcend.tmp -m 1 $calc(50 * %Transcend.tmp)  MP3Title.send $left(%Transcend.title,%Transcend.tmp1)
n173=    dec %Transcend.tmp1
n174=    inc %Transcend.tmp
n175=    if (%Transcend.tmp1 <= 0) { break }
n176=  }
n177=  set %Transcend.tmp1 1
n178=  while (%Transcend.tmp1 <= $len(%Transcend.title)) {
n179=    .timera $+ %Transcend.tmp -m 1 $calc(50 * %Transcend.tmp) MP3Title.send $left(%Transcend.title,%Transcend.tmp1)
n180=    inc %Transcend.tmp
n181=    inc %Transcend.tmp1
n182=    if (%Transcend.tmp1 > $len(%Transcend.title)) { break }
n183=  }
n184=  .timera $+ $calc(%Transcend.tmp +1) -m 1 $calc(50 * %Transcend.tmp) MP3Title.send %Transcend.title
n185=  unset %Transcend.tmp*
n186=  return
n187=}
n188=alias MP3Title.send { if ($dialog(mp3p).x != $null) { dialog -t mp3p $1- } }
n189=alias CurPlay {
n190=  if ($dialog(mp3p) != $null) {
n191=    if ($inmp3 == $false) { did -o mp3p 5 1 Current Play: None }
n192=    if ($len($inmp3.pos) == 4) { did -o mp3p 5 1 Current Play: $nopath(%Transcend.current) $chr(91) $+ $round($calc($left($inmp3.pos,1) / 60),2) of $round($calc($left($inmp3.length,3) / 60),2) $+ $chr(93) }
n193=    if ($len($inmp3.pos) == 5) { did -o mp3p 5 1 Current Play: $nopath(%Transcend.current) $chr(91) $+ $round($calc($left($inmp3.pos,2) / 60),2) of $round($calc($left($inmp3.length,3) / 60),2) $+ $chr(93) }
n194=    if ($len($inmp3.pos) >= 6) { did -o mp3p 5 1 Current Play: $nopath(%Transcend.current) $chr(91) $+ $round($calc($left($inmp3.pos,3) / 60),2) of $round($calc($left($inmp3.length,3) / 60),2) $+ $chr(93) }
n195=    ;added
n196=    if ($vol(master).mute == $true) { vol -vu1 | did -o mp3p 10 1 Muted }
n197=    if ($vol(master).mute == $false) { vol -vu2 | did -o mp3p 10 1 $str($chr(146),$round($calc($vol(master) / 65535 * 100),0)) $round($calc($vol(master) / 65535 * 100),0) $+ % }
n198=    if ($vol(wave).mute == $true) { vol -wu1 | did -o mp3p 14 1 Muted }
n199=    if ($vol(wave).mute == $false) { vol -wu2 | did -o mp3p 14 1 $str($chr(146),$round($calc($vol(wave) / 65535 * 100),0)) $round($calc($vol(wave) / 65535 * 100),0) $+ % }
n200=    ;
n201=  }
n202=  feed.line
n203=  return
n204=}
n205=alias Rename.MP3 {
n206=  if ($inmp3.fname == %Transcend.play1) { halt }
n207=  if (%Transcend.play1 == $null) { halt }
n208=  if (%Transcend.play1 !=== %Transcend.edit) {
n209=    .rename " $+ %Transcend.play1 $+ " " $+ %Transcend.edit $+ "
n210=    set %Transcend.play1 %Transcend.edit
n211=    if ($dialog(mp3p).x != $null) { did -o mp3p 3 1 $nopath(%Transcend.play1) }
n212=  }
n213=}
n214=alias Pick.MP3 {
n215=  ;dialog -x mp3p
n216=  set %Transcend.mode Spool
n217=  set %Transcend.XXX.ptmp %Transcend.play1
n218=  unset %Transcend.play*
n219=  did -r mp3p 3 1
n220=  if (%Transcend.lastdir != $null) { set %Transcend.pick $msfile(%Transcend.lastdir $+ *.*,You may choose multiple media files by holding control,Spool) }
n221=  else { set %Transcend.pick $msfile($songs $+ \*.*,You may choose multiple media files by holding control,Spool) }
n222=  if (%Transcend.pick == -1) { set %Transcend.play1 Error to many songs selected | .timer 1 6 repair.mp3 %Transcend.XXX.ptmp | mp3 }
n223=  if (%Transcend.pick == 0) {
n224=    set %Transcend.pick 1
n225=    set %Transcend.play1 %Transcend.XXX.ptmp 
n226=    set %Transcend.edit %Transcend.play1
n227=    if ($dialog(mp3p).x != $null) { did -o mp3p 3 1 $nopath(%Transcend.play1) }
n228=    mp3
n229=    halt
n230=  }
n231=  if (%Transcend.pick > 0) {
n232=    var %stmp = 1
n233=    while (%stmp <= %Transcend.pick) {
n234=      if ($msfile(%stmp) != $null) { set %Transcend.play [ $+ [ %stmp ] ] $msfile(%stmp) }
n235=      if ($dialog(mp3p).x != $null) { did -o mp3p 3 %stmp $nopath(%Transcend.play [ $+ [ %stmp ] ] ) }
n236=      inc %stmp
n237=      if (%stmp > %Transcend.pick) { break }
n238=    }
n239=    did -o mp3p 3 1 $nopath(%Transcend.play1)
n240=    set %Transcend.edit %Transcend.play1
n241=    set %Transcend.lastdir $nofile(%Transcend.play1)
n242=    mp3
n243=  }
n244=}
n245=alias repair.mp3 {
n246=  set %Transcend.pick 1
n247=  set %Transcend.play1 $1- 
n248=  if ($dialog(mp3p).x != $null) { did -o mp3p 3 1 $nopath(%Transcend.play1) }
n249=}
n250=alias Info.MP3 {
n251=  if ($server != $null) {
n252=    if (%Transcend.mode == Random) {
n253=      if (%Transcend.showinfo == ON) { scid -a amsg %Transcend.name %Transcend.build %Transcend.mode $lower($right(%Transcend.play1,3)) $nopath($left(%Transcend.play1,-4)) }
n254=      if (%Transcend.showinfo == EXTRA) { scid -a amsg %Transcend.name %Transcend.build %Transcend.mode $lower($right(%Transcend.play1,3)) $nopath($left(%Transcend.play1,-4)) $bytes($calc($file(%Transcend.play1).size / 1024),m3) meg - $mp3(%Transcend.play1).bitrate bit - $mp3(%Transcend.play1).mode - $duration($left($mp3(%Transcend.play1).length,3)) }
n255=      if (%Transcend.showinfo == LOCAL) { say %Transcend.name %Transcend.build %Transcend.mode $lower($right(%Transcend.play1,3)) $nopath($left(%Transcend.play1,-4)) $bytes($calc($file(%Transcend.play1).size / 1024),m3) meg - $mp3(%Transcend.play1).bitrate bit - $mp3(%Transcend.play1).mode - $duration($left($mp3(%Transcend.play1).length,3)) }
n256=      if (%Transcend.showinfo == OFF) || (%Transcend.showinfo == $null) { return }
n257=    }
n258=    else {
n259=      if ($var(%Transcend.play*,0) == 1) { var %MP.tmp = %Transcend.mode }
n260=      if ($var(%Transcend.play*,0) > 1) { var %MP.tmp = %Transcend.mode 1 of $var(%Transcend.play*,0) }
n261=      if (%Transcend.showinfo == ON) { scid -a amsg %Transcend.name %Transcend.build,%MP.tmp,$lower($right(%Transcend.play1,3)) $nopath($left(%Transcend.play1,-4)) }
n262=      if (%Transcend.showinfo == EXTRA) { scid -a amsg %Transcend.name %Transcend.build %MP.tmp $lower($right(%Transcend.play1,3)) $nopath($left(%Transcend.play1,-4)) $bytes($calc($file(%Transcend.play1).size / 1024),m3) meg - $mp3(%Transcend.play1).bitrate bit - $mp3(%Transcend.play1).mode - $duration($left($mp3(%Transcend.play1).length,3)) }
n263=      if (%Transcend.showinfo == LOCAL) { say %Transcend.name %Transcend.build,%MP.tmp,$lower($right(%Transcend.play1,3)) $nopath($left(%Transcend.play1,-4)) $bytes($calc($file(%Transcend.play1).size / 1024),m3) meg - $mp3(%Transcend.play1).bitrate bit - $mp3(%Transcend.play1).mode - $duration($left($mp3(%Transcend.play1).length,3)) }
n264=      if (%Transcend.showinfo == OFF) || (%Transcend.showinfo == $null) { return }
n265=    }
n266=  }
n267=  return
n268=}
n269=alias InfoX.MP3 {
n270=  if ($server != $null) { amsg $report(%Transcend.name %Transcend.build,%Transcend.mode,$lower($right(%Transcend.play1,3)),$nopath($left(%Transcend.play1,-4)),$null,$bytes($calc($file(%Transcend.play1).size / 1024),m3) meg,-,$mp3(%Transcend.play1).bitrate bit,-,$mp3(%Transcend.play1).mode,-,$duration($left($mp3(%Transcend.play1).length,3))) | return }
n271=  else { $report(%Transcend.name %Transcend.build,%Transcend.mode,$lower($right(%Transcend.play1,3)),$nopath($left(%Transcend.play1,-4)),$null,$bytes($calc($file(%Transcend.play1).size / 1024),m3) meg,-,$mp3(%Transcend.play1).bitrate bit,-,$mp3(%Transcend.play1).mode,-,$duration($left($mp3(%Transcend.play1).length,3))).active | return }
n272=}
n273=alias Send.MP3 {
n274=  mp3.prep
n275=  if ($chr(32) $+ $chr(32) isin %Transcend.play1) || ($chr(160) $+ $chr(160) isin %Transcend.play1) { $report(Transcend,Error,$null,The file your trying to play has a double space in its name somewhere.).active | $report(Transcend,Error,$null,mIRC can not play files in that shape as mirc strips the extra spaces.).active | $report(Transcend,Error,$null,Try manually renaming by taking out all spaces,).active | $report(Transcend,Error,$null,then putting 1 back in each place so the file will work in the player.).active | .timer 1 0 MP3 STOP | halt }
n276=  set %tmp %Transcend.play1
n277=  set %Transcend.current %Transcend.play1
n278=  if (*.mp3 iswm %Transcend.play1) { splay -p " $+ %Transcend.play1 $+ " }
n279=  else { run " $+ %Transcend.play1 $+ " | .timer 1 0 MP3 STOP }
n280=  ;
n281=  if ($dialog(mp3p).x != $null) { did -o mp3p 3 1 $nopath(%Transcend.play1) }
n282=  ;
n283=  Info.MP3
n284=  .timerTranscendsh -mo 0 400 curPlay
n285=  check.edit
n286=  MP3Title
n287=  halt
n288=}
n289=on *:dialog:mp3p:edit:*: { if ($did == 3) { set %Transcend.edit $remove(%Transcend.play1,$nopath(%Transcend.play1)) $+ $did(3).text } }
n290=on *:MP3END:{
n291=  .timerTranscendsh off
n292=  mp3.prep
n293=  if ($dialog(mp3p) != $null) { did -o mp3p 4 1 Click here to pick one of $findfile($songs,*.mp3,0) Songs }
n294=  if ($dialog(mp3p) != $null) { did -o mp3p 5 1 Current Play: None }
n295=  set %mybar.temp ""
n296=  if (%Transcend.play1 != $null) && (%Transcend.play1 == %Transcend.current) {
n297=    if ($var(%Transcend.play*,0) > 1) {
n298=      var %ptmp = 1
n299=      while (%ptmp <= $var(%Transcend.play*,0)) {
n300=        set %Transcend.play [ $+ [ %ptmp ] ] %Transcend.play [ $+ [ $calc(%ptmp +1) ] ]
n301=        unset %Transcend.play [ $+ [ $calc(%ptmp +1) ] ]
n302=        if ($dialog(mp3p).x != $null) { 
n303=          ;if (%Transcend.play [ $+ [ %ptmp ] ] == 1) { did -o mp3p 3 } 
n304=          did -o mp3p 3 %ptmp $nopath(%Transcend.play [ $+ [ %ptmp ] ] )
n305=          did -d mp3p 3 $calc(%ptmp +1)
n306=        }
n307=        inc %ptmp
n308=        if (%ptmp > $var(%Transcend.play*,0)) { break }
n309=      }
n310=    }
n311=  }
n312=  if (%Transcend.play1 != $null) && (%Transcend.play1 != %Transcend.current) { check.edit | Send.MP3 }
n313=  check.edit
n314=  if (%Transcend.mode == Random) { mp3.random }
n315=}
n316=alias check.edit {
n317=  if ($insong.fname == %Transcend.play1) { if ($dialog(mp3p) != $null) { did -b mp3p 20 | did -b mp3p 18 } }
n318=  else { if ($dialog(mp3p) != $null) { did -e mp3p 20 | did -e mp3p 18 } }
n319=  return
n320=}
n321=alias mp3.random {
n322=  if ($dialog(mp3p) != $null) { did -r mp3p 3 1 }
n323=  set %Transcend.mode Random
n324=  set %Transcend.play1 $findfile($songs,*.mp3,$rand(1,$findfile($songs,*.mp3,0,1)),1)
n325=  set %Transcend.edit %Transcend.play1
n326=  if ($dialog(mp3p) != $null) { did -o mp3p 3 1 $nopath(%Transcend.play1) }
n327=  check.edit
n328=  if ($inmp3 == $true) { return }
n329=  if ($inmp3 == $false) { Send.MP3 }
n330=}
n331=alias feed.line {
n332=  set %Transcend.feed.num $calc($round($inmp3.length,0) / 100)
n333=  if ($dialog(mp3p) != $null) { did -o mp3p 4 1 $chr(91) $+ $str($chr(160),$calc(50 - $calc($round($inmp3.pos,0) / %Transcend.feed.num / 2))) $+ $str($chr(145),$calc($round($inmp3.pos,0) / %Transcend.feed.num / 2)) $+ ] $round($calc($round($inmp3.pos,0) / %Transcend.feed.num),0) $+ % [ $+ $str($chr(145),$calc($round($inmp3.pos,0) / %Transcend.feed.num / 2)) $+ $str($chr(160),$calc(50 - $calc($round($inmp3.pos,0) / %Transcend.feed.num / 2))) $+ $chr(93) }
n334=  set %mybar.temp $round($calc($round($inmp3.pos,0) / %Transcend.feed.num),0) $+ %
n335=  return
n336=}
n337=alias mp3.bump {
n338=  if ($insong.fname == %Transcend.play1) { return }
n339=  did -r mp3p 3 1
n340=  var %ptmp = 1
n341=  while (%ptmp < $var(%Transcend.play*,0)) {
n342=    set %Transcend.play [ $+ [ %ptmp ] ] %Transcend.play [ $+ [ $calc(%ptmp +1) ] ]
n343=    unset %Transcend.play [ $+ [ $calc(%ptmp +1) ] ]
n344=    if ($dialog(mp3p).x != $null) { 
n345=      did -o mp3p 3 %ptmp $nopath(%Transcend.play [ $+ [ %ptmp ] ] )
n346=      did -d mp3p 3 $calc(%ptmp +1)
n347=    }
n348=    inc %ptmp
n349=    if (%ptmp == $var(%Transcend.play*,0)) { break }
n350=  }
n351=  did -o mp3p 3 1 $nopath(%Transcend.play1)
n352=  set %Transcend.edit %Transcend.play1
n353=}
n354=alias mp3.playlist {
n355=  if (%Transcend.usePlayList == $null) { set %Transcend.usePlayList 0 }
n356=}
