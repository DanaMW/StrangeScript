[aliases]
n0=/opall {
n1=  keywrite settings rumble OFF
n2=  var %tmp.quit = 1
n3=  while (%tmp.quit <= $chan(0)) { 
n4=    .chanserv op $chan(%tmp.quit) $me
n5=    inc %tmp.quit 
n6=    if (%tmp.quit > $chan(0)) { break } 
n7=  }
n8=}
n9=ssl {
n10=  if ($1 == $null) || ($2 == $null) || ($3 == $null) { $report(Error,SSL,Format: /ssl <network> <server> <port>).active | halt }
n11=  if (%ssl. [ $+ [ $1 ] ] == $null) { set %ssl. $+ $1 $rand(9000,9999) $+ , $+ $2 $+ , $+ $3 }
n12=  if ($portfree($gettok(%ssl. [ $+ [ $1 ] ] ,1,46)) == $true) {
n13=    set %ssl. $+ $1 $rand(9000,9999) $+ , $+ $2 $+ , $+ $3
n14=    ; if ($master(settings,cygwin.use) == ON) { }
n15=    run -n $mircdirstunnelw.exe -c -d localhost: $+ $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) -r $2 $+ : $+ $3 
n16=    if ($server == $null) { .server localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n17=    else { .server -m localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n18=  }
n19=  else { 
n20=    if ($server == $null) { .server localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n21=    else { .server -m localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n22=  }
n23=  else { 
n24=    if ($server == $null) { .server localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n25=    else { .server -m localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n26=  }
n27=}
n28=fix.mode {
n29=  mode $me +iowghrpaAsNWt
n30=  mode $me +s +kcFfjvGenq
n31=  mode $me
n32=  return
n33=}
n34=report.modes {
n35=  var %cmp = $remove($chanmodes,$chr(44))
n36=  var %cmpc = $len($remove($chanmodes,$chr(44)))
n37=  .write -c report_modes.txt
n38=  var %tmp.c = 1
n39=  while {%tmp.c <= %cmpc) {
n40=    echo -at ... $+ $mid(%cmp,%tmp.c,1)
n41=    ;.write -a report_modes.txt ... $+ $mid($remove($chanmodes,$chr(44)),1,1)
n42=    ;.write -a report_modes.txt .... $+ + $+ $mid(%cmp,%tmp.c,1) $+ :mode # + $+ $mid(%cmp,%tmp.c,1)
n43=    ;.write -a report_modes.txt .... $+ - $+ $mid(%cmp,%tmp.c,1) $+ :mode # - $+ $mid(%cmp,%tmp.c,1)
n44=    inc %tmp.c
n45=    if {%tmp.c > %cmpc) { break }
n46=  }
n47=  return below
n48=}
n49=key {
n50=  ;1=network 2=room 3=key
n51=  var %tmp.fold = $textdir $+ $network $+ .ini
n52=  return $readini(%tmp.fold,$1,$2)
n53=}
n54=master {
n55=  ;1=network 2=room 3=key
n56=  var %tmp.fold = $textdir $+ ScriptInfo.ini
n57=  return $readini(%tmp.fold,$1,$2)
n58=}
n59=keywrite {
n60=  ;keywrite Room key value
n61=  if ($1 == $null) || ($2 == $null) { $report(Error In KeyWrite: Trying to fuck key,$1-).active | return }
n62=  var %tmp.fold = $textdir $+ $network $+ .ini
n63=  if ($3 != $null) { .writeini %tmp.fold $1 $2 $3- }
n64=  ; if $3 is $null then we are going to use that to clear the key. Easiest.
n65=  else {
n66=    .writeini -z %tmp.fold $1 $2
n67=    ;;;;Debug information can be gained by uncommenting the following line to see if keys are clearing properly
n68=    ;$report(Write:,$null,Clearing key,$1-).active
n69=  }
n70=  return
n71=}
n72=masterwrite {
n73=  ;masterwrite Room key value
n74=  if ($1 == $null) || ($2 == $null) { $report(Error In MasterWrite: Trying to fuck key,$1-).active | return }
n75=  var %tmp.fold = $textdir $+ ScriptInfo.ini
n76=  if ($3 != $null) { .writeini %tmp.fold $1 $2 $3- }
n77=  ;if $3 is $null then clear the key.
n78=  else { .writeini -z %tmp.fold $1 $2 | $report(MasterWrite:,$null,Clearing key,$1-).active }
n79=  return
n80=}
n81=smile {
n82=  if ($master(settings,smile) == $null) {
n83=    var %tmp.sm = 04 $+ $chr(125) $+ 12 $+ ; $+ 08 $+ - $+ 04 $+ $chr(41)
n84=    var %tmp.sm $hex.ini(%tmp.sm)
n85=    masterwrite settings smile %tmp.sm
n86=  }
n87=  unset %tmp.sm
n88=  return $unhex.ini($master(settings,smile))
n89=}
n90=is.room { if ($chr(35) isin $active) { return Room $chr(91) # $chr(93) Options } }
n91=/hex.ini {
n92=  unset %hex.*
n93=  set %hex.word $replace($1-,$chr(32),$chr(95))
n94=  set %n 1
n95=  while (%n <= $len(%hex.word)) {
n96=    set %hex.char $asc($mid(%hex.word,%n,1))
n97=    set %hex.val1 $int($calc(%hex.char / 16))
n98=    set %hex.val2 $calc($calc(%hex.char - (%hex.val1 * 16)))
n99=    if (%hex.val1 == 10) { set %hex.val1 A }
n100=    if (%hex.val1 == 11) { set %hex.val1 B }
n101=    if (%hex.val1 == 12) { set %hex.val1 C }
n102=    if (%hex.val1 == 13) { set %hex.val1 D }
n103=    if (%hex.val1 == 14) { set %hex.val1 E }
n104=    if (%hex.val1 == 15) { set %hex.val1 F }
n105=    if (%hex.val2 == 10) { set %hex.val2 A }
n106=    if (%hex.val2 == 11) { set %hex.val2 B }
n107=    if (%hex.val2 == 12) { set %hex.val2 C }
n108=    if (%hex.val2 == 13) { set %hex.val2 D }
n109=    if (%hex.val2 == 14) { set %hex.val2 E }
n110=    if (%hex.val2 == 15) { set %hex.val2 F }
n111=    set %hex.char %hex.val1 $+ %hex.val2
n112=    set %hex.comp %hex.comp $+ %hex.char
n113=    inc %n
n114=    if (%n > $len(%hex.word)) { break }
n115=  }
n116=  .timer 1 1 unset %hex.* %n
n117=  return %hex.comp
n118=}
n119=/unhex.ini {
n120=  unset %hex.*
n121=  set %hex.word $1-
n122=  set %hex.word $remove(%hex.word,',^)
n123=  set %n 1
n124=  while (%n <= $len(%hex.word)) {
n125=    set %hex.char $mid(%hex.word,%n,1)
n126=    if (%hex.char == A) { set %hex.char 10 }
n127=    if (%hex.char == B) { set %hex.char 11 }
n128=    if (%hex.char == C) { set %hex.char 12 }
n129=    if (%hex.char == D) { set %hex.char 13 }
n130=    if (%hex.char == E) { set %hex.char 14 }
n131=    if (%hex.char == F) { set %hex.char 15 }
n132=    set %hex.val $calc(16 * %hex.char)
n133=    inc %n
n134=    set %hex.char $mid(%hex.word,%n,1)
n135=    if (%hex.char == A) { set %hex.char 10 }
n136=    if (%hex.char == B) { set %hex.char 11 }
n137=    if (%hex.char == C) { set %hex.char 12 }
n138=    if (%hex.char == D) { set %hex.char 13 }
n139=    if (%hex.char == E) { set %hex.char 14 }
n140=    if (%hex.char == F) { set %hex.char 15 }
n141=    set %hex.val $calc(%hex.val + %hex.char)
n142=    set %hex.val $chr(%hex.val)
n143=    set %hex.comp %hex.comp $+ %hex.val
n144=    inc %n
n145=    if (%n > $len(%hex.word)) { break }
n146=  }
n147=  .timer 1 1 unset %hex.* %n
n148=  return $replace(%hex.comp,$chr(95),$chr(160))
n149=}
n150=spell.check {
n151=  return $report(SP)  $+ $1-
n152=}
n153=AutoOwner { return $textdir $+ AutoOwner. $+ $network $+ .ini }
n154=AutoOp { return $textdir $+ AutoOp. $+ $network $+ .ini }
n155=bluetop topic # $blue($1-)
n156=bluetalk say $blue($1-)
n157=blue {
n158=  var %bluetop = $bluestart
n159=  var %n = $len($1-)
n160=  var %n2 = 1
n161=  while (%n2 <= %n) {
n162=    var %bluetop = %bluetop $blueletter($mid($1-,%n2,1))
n163=    inc %n2
n164=    if (%n2 > %n) { break }
n165=  }
n166=  var %bluetop = %bluetop $blueend
n167=  return %bluetop
n168=}
n169=bluestart { return 09..:]02,02 }
n170=blueend { return 09[:.. }
n171=blueappend { return 12:09,99 }
n172=blueletter { return 12(09 $+ $1 $+ 01) }
n173=
n174=tubetop tubes $iif($1 == $null,tubEweRKs,$1-) | topic # %tubewerks
n175=tubetalk tubes $1- | say %tubewerks
n176=tubeart {
n177=  %n = 1
n178=  while (%n <= 6) {
n179=    set %tubewerks [ [ $tubeselect ] ]
n180=    set %tubewerks $gettok(%tubewerks,1,32) $+ * $+ $gettok(%tubewerks,2,32)
n181=    echo -a %tubewerks
n182=    inc %n
n183=  }
n184=  %n = 5
n185=  while (%n > 0) {
n186=    set %tubewerks [ [ $tubeselect ] ]
n187=    set %tubewerks $gettok(%tubewerks,1,32) $+ * $+ $gettok(%tubewerks,2,32)
n188=    echo -a %tubewerks
n189=    dec %n
n190=  }
n191=  %n = 2
n192=  while (%n <= 6) {
n193=    set %tubewerks [ [ $tubeselect ] ]
n194=    set %tubewerks $gettok(%tubewerks,1,32) $+ * $+ $gettok(%tubewerks,2,32)
n195=    echo -a %tubewerks
n196=    inc %n
n197=  }
n198=  %n = 5
n199=  while (%n > 0) {
n200=    set %tubewerks [ [ $tubeselect ] ]
n201=    set %tubewerks $gettok(%tubewerks,1,32) $+ * $+ $gettok(%tubewerks,2,32)
n202=    echo -a %tubewerks
n203=    dec %n
n204=  }
n205=}
n206=tubes { set %tubewerks [ [ $tubechoose ] ] | set %tubewerks $gettok(%tubewerks,1,32) $1- $gettok(%tubewerks,2,32) }
n207=tubechoose return $chr(36) $+ tubes $+ $rand(1,6)
n208=tubeselect return $chr(36) $+ tubes $+ %n
n209=tubes1 { return 12,2*9,3*13,6*11,10*4,5*8,7 4,5*11,10*13,6*9,3*12,2* }
n210=tubes2 { return 9,3*13,6*11,10*4,5*8,7*12,2 8,7*4,5*11,10*13,6*9,3* }
n211=tubes3 { return 13,6*11,10*4,5*8,7*12,2*9,3 12,2*8,7*4,5*11,10*13,6* }
n212=tubes4 { return 11,10*4,5*8,7*12,2*9,3*13,6 9,3*12,2*8,7*4,5*11,10* }
n213=tubes5 { return 4,5*8,7*12,2*9,3*13,6*11,10 13,6*9,3*12,2*8,7*4,5* }
n214=tubes6 { return 8,7*12,2*9,3*13,6*11,10*4,5 11,10*13,6*9,3*12,2*8,7* }
n215=;parse.setup {
n216=;  if ($network == $null) { quit Major error in parse.setup | halt }
n217=;  $report(Parsing server setup information below).status
n218=;  if (*supported* iswm $1-) { var %tmp.ps.info = $remove($2-,are supported by this server) }
n219=;  if (*available* iswm $1-) { var %tmp.ps.info = $remove($2-,are available on this server) }
n220=;  var %tmp.fold = $textdir $+ $network $+ .ini
n221=;  var %tmp.ps = 1
n222=;  while (%tmp.ps <= $numtok(%tmp.ps.info,32)) {
n223=;    if (*=* iswm $gettok(%tmp.ps.info,%tmp.ps,32)) { .writeini %tmp.fold parse.setup $gettok($gettok(%tmp.ps.info,%tmp.ps,32),1,61) $gettok($gettok(%tmp.ps.info,%tmp.ps,32),2,61) }
n224=;    else { .writeini %tmp.fold parse.setup $gettok(%tmp.ps.info,%tmp.ps,32) $gettok(%tmp.ps.info,%tmp.ps,32) }
n225=;    inc %tmp.ps
n226=;    if (%tmp.ps > $numtok(%tmp.ps.info,32)) { break }
n227=;  }
n228=;  return
n229=;}
n230=/halfop { 
n231=  if ($1 == ?) && ($key(#,lastin) ison $chan) { .raw mode # +h $key(#,lastin) | return }
n232=  if ($1 != ?) && ($1 != $null) { .raw mode # +hhh $1 $2 $3 }
n233=  if ($1 != ?) && ($1 == $null) {
n234=    if ($modespl == $null) { var %tmp.num = 1 }
n235=    else { var %tmp.num = $modespl }
n236=    var %tmp.count = 1
n237=    var %tmp.total = 1
n238=    while (%tmp.count <= $numtok($snicks,44)) {
n239=      var %tmp.user = $addtok(%tmp.user,$snick(#,%tmp.count),44)
n240=      if (%tmp.total == %tmp.num) {
n241=        if ($network == Dalnet) { .raw mode # $str(+h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n242=        else { .raw mode # + $+ $str(h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n243=        unset %tmp.user
n244=        var %tmp.total = 0
n245=      }
n246=      inc %tmp.total
n247=      inc %tmp.count
n248=      if (%tmp.count > $snick(#,0)) { break }
n249=    }
n250=    if ($network == Dalnet) { .raw mode # $str(+h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n251=    else { .raw mode # + $+ $str(h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n252=    return
n253=  }
n254=}
n255=/halfdop {
n256=  if ($1 == ?) && ($key(#,lastin) ison $chan) { .raw mode # -h $key(#,lastin) ]
n257=  }
n258=  if ($1 != ?) && ($1 != $null) { .raw mode # -hhh $1 $2 $3 }
n259=  if ($1 != ?) && ($1 == $null) {
n260=    if ($key(settings,ircx) == ON) { .raw access # clear owner }
n261=    if ($modespl == $null) { var %tmp.num = 1 }
n262=    else { var %tmp.num = $modespl }
n263=    var %tmp.count = 1
n264=    var %tmp.total = 1
n265=    while (%tmp.count <= $numtok($snicks,44)) {
n266=      var %tmp.user = $addtok(%tmp.user,$snick(#,%tmp.count),44)
n267=      if (%tmp.total == %tmp.num) {
n268=        if ($network == Dalnet) { .raw mode # $str(-h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n269=        else { .raw mode # - $+ $str(h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n270=        unset %tmp.user
n271=        var %tmp.total = 0
n272=      }
n273=      inc %tmp.total
n274=      inc %tmp.count
n275=      if (%tmp.count > $snick(#,0)) { break }
n276=    }
n277=    if ($network == Dalnet) { .raw mode # $str(-h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n278=    else { .raw mode # - $+ $str(h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n279=  }
n280=}
n281=/hidden.rooms {
n282=  if ($chan($1).mode == $null) { $report(Speed Error,/hidden.rooms,$1,room modes null - Rechecking...).chan | return }
n283=  if (*u* iswm $chan($1).mode) { names $1 }
n284=  if (*x* iswm $chan($1).mode) { names $1 }
n285=  return
n286=}
n287=display {
n288=  if ($exists(temp.txt) == $true) { remove temp.txt }
n289=  run cmd.exe /c dir/a " $+ $1- $+ " > temp.txt
n290=  msg # $report(Displaying the contents of $1-)
n291=  .timer 1 2 display.play
n292=  return
n293=}
n294=display.play {
n295=  if ($lines(temp.txt) == 0) { msg # $report(Directory or file doesnt exist) | .remove temp.txt | return }
n296=  .timer 1 1 .play # temp.txt 50
n297=  return
n298=}
n299=disks { disk }
n300=disk {
n301=  msg # $report(Disks,this system has $disk(0) disks.)
n302=  var %tmpd 1
n303=  ;ADD THIS $disk(%tmpd).label
n304=  while (%tmpd <= $disk(0)) {
n305=    ;$report(Disks,this system has $disk(0) disks.)
n306=    ;$len($disk(2).size) $round($calc($disk(2).size / 1024 / 1024 / 1024),1)
n307=    if ($len($disk(%tmpd).size) >= 10) { msg # $report(Disk %tmpd,$disk(%tmpd).path,Type: $disk(%tmpd).type,Size: $round($calc($disk(%tmpd).size / 1024 / 1024 / 1024),1) gigs,Free: $round($calc($disk(%tmpd).free / 1024 / 1024 / 1024),1) gigs) }
n308=    elseif ($len($disk(%tmpd).size) >= 7) && ($len($disk(%tmpd).size) < 10) { msg # $report(Disk %tmpd,$disk(%tmpd).path,Type: $disk(%tmpd).type,Size: $round($calc($disk(%tmpd).size / 1024 / 1024),1) megs,Free: $round($calc($disk(%tmpd).free / 1024 / 1024),1) megs) }
n309=    elseif ($len($disk(%tmpd).size) >= 4) && ($len($disk(%tmpd).size) < 7) { msg # $report(Disk %tmpd,$disk(%tmpd).path,Type: $disk(%tmpd).type,Size: $round($calc($disk(%tmpd).size / 1024),1) kb,Free: $round($calc($disk(%tmpd).free / 1024),1) kb) }
n310=    else { msg # $report(Disk %tmpd,$remove($disk(%tmpd).path,\),Type: $disk(%tmpd).type,Size: $disk(%tmpd).size k,Free: $disk(%tmpd).free k)
n311=    }
n312=    ;$round($calc($disk(2).size / 1024 / 1024 / 1024 ),2) gig
n313=    inc %tmpd
n314=  }
n315=}
n316=botmenu { if ($exists($mircdirMBot\mirc.exe) == $true) { return Bot Menu } }
n317=/menu.kick { 
n318=  if ($1 == ?) && ($key(#,lastin) ison $chan) { .raw kick # $key(#,lastin) | return }
n319=  if ($1 != ?) && ($1 != $null) { .raw kick # $1 }
n320=  if ($1 != ?) && ($1 == $null) {
n321=    var %tmp.count = 1
n322=    while (%tmp.count <= $snick(#,0)) {
n323=      .kick # $snick(#,%tmp.count) $unhex.ini($master(settings,kick.message))
n324=      inc %tmp.count
n325=      if (%tmp.count > $snick(#,0)) { break }
n326=    }
n327=    ;else { .raw mode # + $+ $str(o,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n328=    return
n329=  }
n330=}
n331=/menu.kick1 { 
n332=  var %tmp.count = 1
n333=  while (%tmp.count <= $snick(#,0)) {
n334=    .kick # $snick(#,%tmp.count) $1-
n335=    inc %tmp.count
n336=    if (%tmp.count > $snick(#,0)) { break }
n337=  }
n338=  return
n339=}
n340=/songs { return $master(settings,songs) }
n341=/check.room.vars {
n342=  if ($key(#,setupauto) == $null) { keywrite # setupauto OFF }
n343=  if ($key(#,modelock) == $null) { keywrite # modelock OFF }
n344=  if ($key(#,topiclock) == $null) { keywrite # topiclock OFF } 
n345=  if ($key(#,kicklock) == $null) { keywrite # kicklock OFF }
n346=  if ($key(#,ban.lock) == $null) { keywrite # ban.lock OFF }
n347=  if ($key(#,GateScan) == $null) { keywrite # GateScan OFF }
n348=  if ($key(#,whoisonknock) == $null) { keywrite # whoisonknock OFF }
n349=  if ($key(#,unmaskonknock) == $null) { keywrite # unmaskonknock OFF }
n350=  if ($key(#,deop) == $null) { keywrite # deop OFF }
n351=  if ($key(#,modemaster) == $null) { keywrite # modemaster OFF }
n352=  return
n353=}
n354=status {
n355=  notice # $report(Status Report) - $report(Servers:,$null,$scid(0))
n356=  notice # $report(Total User Sockets:,$null,$sock(*,0)) - $report(Type: BNC:,$null,$sock(BNC*,0)) - $report(Boom:,$null,$sock(@Boom*,0)) - $report(Gate:,$null,$sock(@Gate*,0)) - $report(Split:,$null,$sock(@Split*,0)) - $report(Spy:,$null,$sock(Spy*,0)) - $report(Bot:,$null,$sock(Bot*,0))
n357=}
n358=;
n359=; the below returns the network IRC URL for connecting.
n360=;
n361=bAdd {
n362=  if ($1 == $null) { var %tmp.btad $network }
n363=  else { var %tmp.btad $1 }
n364=  if (%tmp.btad == local) || (%tmp.btad == localhost) { set %bAdd irc.localdomain.net }
n365=  if (%tmp.btad == dalnet) { set %bAdd irc.dal.net }
n366=  if (%tmp.btad == undernet) { set %bAdd us.undernet.org }
n367=  if (%tmp.btad == libera.chat) { set %bAdd irc.libera.chat }
n368=  if (%tmp.btad == deepnet) { set %bAdd irc.deepnet.chat }
n369=  ;else { set %bAdd $$?="Enter IRC login Address" }
n370=  return %bAdd
n371=}
n372=/ssipsave {
n373=  ;.msg %boss $report($1-)
n374=  var %tmp.x = $gettok($mircdir,1,92) $+ $chr(92) $+ $gettok($mircdir,2,92) $+ $chr(92) $+ text\IPTracker.txt
n375=  var %tmp.xx = $gettok($mircdir,1,92) $+ $chr(92) $+ $gettok($mircdir,2,92) $+ $chr(92) $+ text\LastSeen.txt
n376=  if ($exists(%tmp.x) == $false) { set %tmp $ip | .write -c %tmp.x $me *!*@ $+ $puttok($ip,$chr(42),4,46) }
n377=  if ($exists(%tmp.xx) == $false) { set %tmp $ip | .write -c %tmp.xx $me $asctime(mmm dd yyyy) on %current.Server in #StrangeScript at $time }
n378=  if (%ssipsave != ON) { return }
n379=  if ($4 == DNS) {
n380=    var %temp1 = $1
n381=    var %temp2 = $3
n382=    goto DNS.back
n383=  }
n384=  if ($gettok($address($1,2),-1,46) isalpha) { set %awaiting.dns. [ $+ [ $address($1,2) ] ] $1 $+ , $+ $2 | dns $1 | halt }
n385=  var %temp1 = $1
n386=  var %temp2 = $myaddress2($1)
n387=  :DNS.back
n388=  var %temp3 = $read(%tmp.x,s,$1)
n389=  if (%temp3 == $null) {
n390=    echo -t $2 $sys $report(IPTracker,Not on file,SAVING,%temp1,%temp2)
n391=    .write %tmp.xx %temp1 $asctime(mmm dd yyyy) on %current.Server in $2 at $time
n392=    var %temp3 = $addtok(%temp3,%temp2,44)
n393=    .write %tmp.x %temp1 %temp3
n394=    return
n395=  }
n396=  var %tmp = $readn
n397=  if ($istok(%temp3,%temp2,44) == $true) {
n398=    echo -t $2 $sys $report(IPTracker,Already on file,SKIPPING,%temp1,%temp2)
n399=    echo -t $2 $sys $report(LastSeen,$null,$null,$read(%tmp.xx,n,%tmp))
n400=    if (%ssipsave.IP == ON) { echo -t $2 $sys $report(IPTracker,Used ips,$null,%temp3) }
n401=    if (%ssipsave.IP == STATS) { echo -st $sys $report(IPTracker,Used ips,$null,%temp3) }
n402=    .write -l $+ %tmp %tmp.xx %temp1 $asctime(mmm dd yyyy) on %current.Server in $2 at $time
n403=    ;.write -l $+ %tmp %tmp.x %temp1 %temp3
n404=    return
n405=  }
n406=  if ($istok(%temp3,%temp2,44) == $false) {
n407=    echo -t $2 $sys $report(IPTracker,Already on file but new ip,UPDATING,%temp1,%temp2)
n408=    echo -t $2 $sys $report(LastSeen,$null,$null,$read(%tmp.xx,n,%tmp))
n409=    if (%ssipsave.IP == ON) { echo -t $2 $sys $report(IPTracker,Used ips,$null,%temp2,%temp3) }
n410=    if (%ssipsave.IP == STATS) { echo -st $sys $report(IPTracker,Used ips,$null,%temp2,%temp3) }
n411=    if ($len(%tmp3) < 435) { var %temp3 = $addtok(%temp3,%temp2,44) | goto skip }
n412=    if ($len(%tmp3) => 435) { var %temp3 = $puttok(%temp3,%temp2,1,44) }
n413=    :skip
n414=    .write -l $+ %tmp %tmp.xx %temp1 $asctime(mmm dd yyyy) on %current.server in $2 at $time
n415=    .write -l $+ %tmp %tmp.x %temp1 %temp3
n416=    return
n417=  }
n418=}
n419=/seen { 
n420=  if ($1 == HELP) $report(Format:,/seen <nick>,last time a nick was seen and where).active
n421=  if ($1 == $null) { msg # $report(Format,$null,$null,.seen <nick>) | halt }
n422=  else { 
n423=    var %tmp.x = $gettok($mircdir,1,92) $+ $chr(92) $+ $gettok($mircdir,2,92) $+ $chr(92) $+ text\LastSeen.txt
n424=    var %tmp.xx = $read(%tmp.x,s,$2)
n425=    if (%tmp.xx == $null) { var %tmp.xx = User not in database }
n426=    msg # $report(LastSeen,$2,$null,%tmp.xx)
n427=  }
n428=}
n429=convert.temp {
n430=  if ($2 == F) {
n431=    ;var %tmp.ans2 = $1
n432=    ; var %tmp.ans = $calc((%tmp.ans2 âˆ’ 32) Ã— 5/9) 
n433=    ; $report(%tmp.ans).active
n434=  }
n435=  if ($2 == C) {
n436=    ;(35Â°C Ã— 9/5) + 32 = 95Â°F
n437=  }
n438=}
n439=/come {
n440=  ctcp $key(settings,botnick) do join #
n441=}
