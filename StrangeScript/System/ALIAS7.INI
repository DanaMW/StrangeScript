[aliases]
n0=/opall {
n1=  keywrite settings rumble OFF
n2=  var %tmp.quit = 1
n3=  while (%tmp.quit <= $chan(0)) { 
n4=    .chanserv op $chan(%tmp.quit) $me
n5=    inc %tmp.quit 
n6=    if (%tmp.quit > $chan(0)) { break } 
n7=  }
n8=}
n9=ssl {
n10=  if ($1 == $null) || ($2 == $null) || ($3 == $null) { $report(Error,SSL,Format: /ssl <network> <server> <port>).active | halt }
n11=  if (%ssl. [ $+ [ $1 ] ] == $null) { set %ssl. $+ $1 $rand(9000,9999) $+ , $+ $2 $+ , $+ $3 }
n12=  if ($portfree($gettok(%ssl. [ $+ [ $1 ] ] ,1,46)) == $true) {
n13=    set %ssl. $+ $1 $rand(9000,9999) $+ , $+ $2 $+ , $+ $3
n14=    ; if ($master(settings,cygwin.use) == ON) { }
n15=    run -n $mircdirstunnelw.exe -c -d localhost: $+ $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) -r $2 $+ : $+ $3 
n16=    if ($server == $null) { .server localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n17=    else { .server -m localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n18=  }
n19=  else { 
n20=    if ($server == $null) { .server localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n21=    else { .server -m localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n22=  }
n23=  else { 
n24=    if ($server == $null) { .server localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n25=    else { .server -m localhost $gettok(%ssl. [ $+ [ $1 ] ] ,1,46) }
n26=  }
n27=}
n28=fix.mode {
n29=  mode $me +iowghrpaAsNWt
n30=  mode $me +s +kcFfjvGenq
n31=  mode $me
n32=  return
n33=}
n34=report.modes {
n35=  var %cmp = $remove($chanmodes,$chr(44))
n36=  var %cmpc = $len($remove($chanmodes,$chr(44)))
n37=  .write -c report_modes.txt
n38=  var %tmp.c = 1
n39=  while {%tmp.c <= %cmpc) {
n40=    echo -at ... $+ $mid(%cmp,%tmp.c,1)
n41=    ;.write -a report_modes.txt ... $+ $mid($remove($chanmodes,$chr(44)),1,1)
n42=    ;.write -a report_modes.txt .... $+ + $+ $mid(%cmp,%tmp.c,1) $+ :mode # + $+ $mid(%cmp,%tmp.c,1)
n43=    ;.write -a report_modes.txt .... $+ - $+ $mid(%cmp,%tmp.c,1) $+ :mode # - $+ $mid(%cmp,%tmp.c,1)
n44=    inc %tmp.c
n45=    if {%tmp.c > %cmpc) { break }
n46=  }
n47=  return below
n48=}
n49=key {
n50=  ;1=network 2=room 3=key
n51=  var %tmp.fold = $textdir $+ $network $+ .ini
n52=  return $readini(%tmp.fold,$1,$2)
n53=}
n54=master {
n55=  ;1=network 2=room 3=key
n56=  var %tmp.fold = $textdir $+ ScriptInfo.ini
n57=  return $readini(%tmp.fold,$1,$2)
n58=}
n59=keywrite {
n60=  ;keywrite Room key value
n61=  if ($1 == $null) || ($2 == $null) { $report(Error In KeyWrite: Trying to fuck key,$1-).active | return }
n62=  var %tmp.fold = $textdir $+ $network $+ .ini
n63=  if ($3 != $null) { .writeini %tmp.fold $1 $2 $3- }
n64=  ; if $3 is $null then we are going to use that to clear the key. Easiest.
n65=  else { .writeini -z %tmp.fold $1 $2 | $report(Write:,$null,Clearing key,$1-).active }
n66=  return
n67=}
n68=masterwrite {
n69=  ;masterwrite Room key value
n70=  if ($1 == $null) || ($2 == $null) { $report(Error In MasterWrite: Trying to fuck key,$1-).active | return }
n71=  var %tmp.fold = $textdir $+ ScriptInfo.ini
n72=  if ($3 != $null) { .writeini %tmp.fold $1 $2 $3- }
n73=  ; if $3 is $null then clear the key.
n74=  else { .writeini -z %tmp.fold $1 $2 | $report(MasterWrite:,$null,Clearing key,$1-).active }
n75=  return
n76=}
n77=smile {
n78=  if ($master(settings,smile) == $null) {
n79=    var %tmp.sm = 04 $+ $chr(125) $+ 12 $+ ; $+ 08 $+ - $+ 04 $+ $chr(41)
n80=    var %tmp.sm $hex.ini(%tmp.sm)
n81=    masterwrite settings smile %tmp.sm
n82=  }
n83=  unset %tmp.sm
n84=  return $unhex.ini($master(settings,smile))
n85=}
n86=is.room { if ($chr(35) isin $active) { return Room $chr(91) # $chr(93) Options } }
n87=/hex.ini {
n88=  unset %hex.*
n89=  set %hex.word $replace($1-,$chr(32),$chr(95))
n90=  set %n 1
n91=  while (%n <= $len(%hex.word)) {
n92=    set %hex.char $asc($mid(%hex.word,%n,1))
n93=    set %hex.val1 $int($calc(%hex.char / 16))
n94=    set %hex.val2 $calc($calc(%hex.char - (%hex.val1 * 16)))
n95=    if (%hex.val1 == 10) { set %hex.val1 A }
n96=    if (%hex.val1 == 11) { set %hex.val1 B }
n97=    if (%hex.val1 == 12) { set %hex.val1 C }
n98=    if (%hex.val1 == 13) { set %hex.val1 D }
n99=    if (%hex.val1 == 14) { set %hex.val1 E }
n100=    if (%hex.val1 == 15) { set %hex.val1 F }
n101=    if (%hex.val2 == 10) { set %hex.val2 A }
n102=    if (%hex.val2 == 11) { set %hex.val2 B }
n103=    if (%hex.val2 == 12) { set %hex.val2 C }
n104=    if (%hex.val2 == 13) { set %hex.val2 D }
n105=    if (%hex.val2 == 14) { set %hex.val2 E }
n106=    if (%hex.val2 == 15) { set %hex.val2 F }
n107=    set %hex.char %hex.val1 $+ %hex.val2
n108=    set %hex.comp %hex.comp $+ %hex.char
n109=    inc %n
n110=    if (%n > $len(%hex.word)) { break }
n111=  }
n112=  .timer 1 1 unset %hex.* %n
n113=  return %hex.comp
n114=}
n115=/unhex.ini {
n116=  unset %hex.*
n117=  set %hex.word $1-
n118=  set %hex.word $remove(%hex.word,',^)
n119=  set %n 1
n120=  while (%n <= $len(%hex.word)) {
n121=    set %hex.char $mid(%hex.word,%n,1)
n122=    if (%hex.char == A) { set %hex.char 10 }
n123=    if (%hex.char == B) { set %hex.char 11 }
n124=    if (%hex.char == C) { set %hex.char 12 }
n125=    if (%hex.char == D) { set %hex.char 13 }
n126=    if (%hex.char == E) { set %hex.char 14 }
n127=    if (%hex.char == F) { set %hex.char 15 }
n128=    set %hex.val $calc(16 * %hex.char)
n129=    inc %n
n130=    set %hex.char $mid(%hex.word,%n,1)
n131=    if (%hex.char == A) { set %hex.char 10 }
n132=    if (%hex.char == B) { set %hex.char 11 }
n133=    if (%hex.char == C) { set %hex.char 12 }
n134=    if (%hex.char == D) { set %hex.char 13 }
n135=    if (%hex.char == E) { set %hex.char 14 }
n136=    if (%hex.char == F) { set %hex.char 15 }
n137=    set %hex.val $calc(%hex.val + %hex.char)
n138=    set %hex.val $chr(%hex.val)
n139=    set %hex.comp %hex.comp $+ %hex.val
n140=    inc %n
n141=    if (%n > $len(%hex.word)) { break }
n142=  }
n143=  .timer 1 1 unset %hex.* %n
n144=  return $replace(%hex.comp,$chr(95),$chr(160))
n145=}
n146=spell.check {
n147=  return $report(SP)  $+ $1-
n148=}
n149=AutoOwner { return $textdir $+ AutoOwner. $+ $network $+ .ini }
n150=AutoOp { return $textdir $+ AutoOp. $+ $network $+ .ini }
n151=bluetop topic # $blue($1-)
n152=bluetalk say $blue($1-)
n153=blue {
n154=  var %bluetop = $bluestart
n155=  var %n = $len($1-)
n156=  var %n2 = 1
n157=  while (%n2 <= %n) {
n158=    var %bluetop = %bluetop $blueletter($mid($1-,%n2,1))
n159=    inc %n2
n160=    if (%n2 > %n) { break }
n161=  }
n162=  var %bluetop = %bluetop $blueend
n163=  return %bluetop
n164=}
n165=bluestart { return 09..:]02,02 }
n166=blueend { return 09[:.. }
n167=blueappend { return 12:09,99 }
n168=blueletter { return 12(09 $+ $1 $+ 01) }
n169=
n170=tubetop tubes $iif($1 == $null,tubEweRKs,$1-) | topic # %tubewerks
n171=tubetalk tubes $1- | say %tubewerks
n172=tubeart {
n173=  %n = 1
n174=  while (%n <= 6) {
n175=    set %tubewerks [ [ $tubeselect ] ]
n176=    set %tubewerks $gettok(%tubewerks,1,32) $+ * $+ $gettok(%tubewerks,2,32)
n177=    echo -a %tubewerks
n178=    inc %n
n179=  }
n180=  %n = 5
n181=  while (%n > 0) {
n182=    set %tubewerks [ [ $tubeselect ] ]
n183=    set %tubewerks $gettok(%tubewerks,1,32) $+ * $+ $gettok(%tubewerks,2,32)
n184=    echo -a %tubewerks
n185=    dec %n
n186=  }
n187=  %n = 2
n188=  while (%n <= 6) {
n189=    set %tubewerks [ [ $tubeselect ] ]
n190=    set %tubewerks $gettok(%tubewerks,1,32) $+ * $+ $gettok(%tubewerks,2,32)
n191=    echo -a %tubewerks
n192=    inc %n
n193=  }
n194=  %n = 5
n195=  while (%n > 0) {
n196=    set %tubewerks [ [ $tubeselect ] ]
n197=    set %tubewerks $gettok(%tubewerks,1,32) $+ * $+ $gettok(%tubewerks,2,32)
n198=    echo -a %tubewerks
n199=    dec %n
n200=  }
n201=}
n202=tubes { set %tubewerks [ [ $tubechoose ] ] | set %tubewerks $gettok(%tubewerks,1,32) $1- $gettok(%tubewerks,2,32) }
n203=tubechoose return $chr(36) $+ tubes $+ $rand(1,6)
n204=tubeselect return $chr(36) $+ tubes $+ %n
n205=tubes1 { return 12,2*9,3*13,6*11,10*4,5*8,7 4,5*11,10*13,6*9,3*12,2* }
n206=tubes2 { return 9,3*13,6*11,10*4,5*8,7*12,2 8,7*4,5*11,10*13,6*9,3* }
n207=tubes3 { return 13,6*11,10*4,5*8,7*12,2*9,3 12,2*8,7*4,5*11,10*13,6* }
n208=tubes4 { return 11,10*4,5*8,7*12,2*9,3*13,6 9,3*12,2*8,7*4,5*11,10* }
n209=tubes5 { return 4,5*8,7*12,2*9,3*13,6*11,10 13,6*9,3*12,2*8,7*4,5* }
n210=tubes6 { return 8,7*12,2*9,3*13,6*11,10*4,5 11,10*13,6*9,3*12,2*8,7* }
n211=;parse.setup {
n212=;  if ($network == $null) { quit Major error in parse.setup | halt }
n213=;  $report(Parsing server setup information below).status
n214=;  if (*supported* iswm $1-) { var %tmp.ps.info = $remove($2-,are supported by this server) }
n215=;  if (*available* iswm $1-) { var %tmp.ps.info = $remove($2-,are available on this server) }
n216=;  var %tmp.fold = $textdir $+ $network $+ .ini
n217=;  var %tmp.ps = 1
n218=;  while (%tmp.ps <= $numtok(%tmp.ps.info,32)) {
n219=;    if (*=* iswm $gettok(%tmp.ps.info,%tmp.ps,32)) { .writeini %tmp.fold parse.setup $gettok($gettok(%tmp.ps.info,%tmp.ps,32),1,61) $gettok($gettok(%tmp.ps.info,%tmp.ps,32),2,61) }
n220=;    else { .writeini %tmp.fold parse.setup $gettok(%tmp.ps.info,%tmp.ps,32) $gettok(%tmp.ps.info,%tmp.ps,32) }
n221=;    inc %tmp.ps
n222=;    if (%tmp.ps > $numtok(%tmp.ps.info,32)) { break }
n223=;  }
n224=;  return
n225=;}
n226=/halfop { 
n227=  if ($1 == ?) && ($key(#,lastin) ison $chan) { .raw mode # +h $key(#,lastin) | return }
n228=  if ($1 != ?) && ($1 != $null) { .raw mode # +hhh $1 $2 $3 }
n229=  if ($1 != ?) && ($1 == $null) {
n230=    if ($modespl == $null) { var %tmp.num = 1 }
n231=    else { var %tmp.num = $modespl }
n232=    var %tmp.count = 1
n233=    var %tmp.total = 1
n234=    while (%tmp.count <= $numtok($snicks,44)) {
n235=      var %tmp.user = $addtok(%tmp.user,$snick(#,%tmp.count),44)
n236=      if (%tmp.total == %tmp.num) {
n237=        if ($network == Dalnet) { .raw mode # $str(+h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n238=        else { .raw mode # + $+ $str(h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n239=        unset %tmp.user
n240=        var %tmp.total = 0
n241=      }
n242=      inc %tmp.total
n243=      inc %tmp.count
n244=      if (%tmp.count > $snick(#,0)) { break }
n245=    }
n246=    if ($network == Dalnet) { .raw mode # $str(+h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n247=    else { .raw mode # + $+ $str(h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n248=    return
n249=  }
n250=}
n251=/halfdop {
n252=  if ($1 == ?) && ($key(#,lastin) ison $chan) { .raw mode # -h $key(#,lastin) ]
n253=  }
n254=  if ($1 != ?) && ($1 != $null) { .raw mode # -hhh $1 $2 $3 }
n255=  if ($1 != ?) && ($1 == $null) {
n256=    if ($key(settings,ircx) == ON) { .raw access # clear owner }
n257=    if ($modespl == $null) { var %tmp.num = 1 }
n258=    else { var %tmp.num = $modespl }
n259=    var %tmp.count = 1
n260=    var %tmp.total = 1
n261=    while (%tmp.count <= $numtok($snicks,44)) {
n262=      var %tmp.user = $addtok(%tmp.user,$snick(#,%tmp.count),44)
n263=      if (%tmp.total == %tmp.num) {
n264=        if ($network == Dalnet) { .raw mode # $str(-h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n265=        else { .raw mode # - $+ $str(h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n266=        unset %tmp.user
n267=        var %tmp.total = 0
n268=      }
n269=      inc %tmp.total
n270=      inc %tmp.count
n271=      if (%tmp.count > $snick(#,0)) { break }
n272=    }
n273=    if ($network == Dalnet) { .raw mode # $str(-h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n274=    else { .raw mode # - $+ $str(h,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n275=  }
n276=}
n277=/hidden.rooms {
n278=  if ($chan($1).mode == $null) { $report(Speed Error,/hidden.rooms,$1,room modes null - Rechecking...).chan | return }
n279=  if (*u* iswm $chan($1).mode) { names $1 }
n280=  if (*x* iswm $chan($1).mode) { names $1 }
n281=  return
n282=}
n283=display {
n284=  if ($exists(temp.txt) == $true) { remove temp.txt }
n285=  run cmd.exe /c dir/a " $+ $1- $+ " > temp.txt
n286=  msg # $report(Displaying the contents of $1-)
n287=  .timer 1 2 display.play
n288=  return
n289=}
n290=display.play {
n291=  if ($lines(temp.txt) == 0) { msg # $report(Directory or file doesnt exist) | .remove temp.txt | return }
n292=  .timer 1 1 .play # temp.txt 50
n293=  return
n294=}
n295=disks { disk }
n296=disk {
n297=  msg # $report(Disks,this system has $disk(0) disks.)
n298=  var %tmpd 1
n299=  ;ADD THIS $disk(%tmpd).label
n300=  while (%tmpd <= $disk(0)) {
n301=    ;$report(Disks,this system has $disk(0) disks.)
n302=    ;$len($disk(2).size) $round($calc($disk(2).size / 1024 / 1024 / 1024),1)
n303=    if ($len($disk(%tmpd).size) >= 10) { msg # $report(Disk %tmpd,$disk(%tmpd).path,Type: $disk(%tmpd).type,Size: $round($calc($disk(%tmpd).size / 1024 / 1024 / 1024),1) gigs,Free: $round($calc($disk(%tmpd).free / 1024 / 1024 / 1024),1) gigs) }
n304=    elseif ($len($disk(%tmpd).size) >= 7) && ($len($disk(%tmpd).size) < 10) { msg # $report(Disk %tmpd,$disk(%tmpd).path,Type: $disk(%tmpd).type,Size: $round($calc($disk(%tmpd).size / 1024 / 1024),1) megs,Free: $round($calc($disk(%tmpd).free / 1024 / 1024),1) megs) }
n305=    elseif ($len($disk(%tmpd).size) >= 4) && ($len($disk(%tmpd).size) < 7) { msg # $report(Disk %tmpd,$disk(%tmpd).path,Type: $disk(%tmpd).type,Size: $round($calc($disk(%tmpd).size / 1024),1) kb,Free: $round($calc($disk(%tmpd).free / 1024),1) kb) }
n306=    else { msg # $report(Disk %tmpd,$remove($disk(%tmpd).path,\),Type: $disk(%tmpd).type,Size: $disk(%tmpd).size k,Free: $disk(%tmpd).free k)
n307=    }
n308=    ;$round($calc($disk(2).size / 1024 / 1024 / 1024 ),2) gig
n309=    inc %tmpd
n310=  }
n311=}
n312=botmenu { if ($exists($mircdirMBot\mirc.exe) == $true) { return Bot Menu } }
n313=/menu.kick { 
n314=  if ($1 == ?) && ($key(#,lastin) ison $chan) { .raw kick # $key(#,lastin) | return }
n315=  if ($1 != ?) && ($1 != $null) { .raw kick # $1 }
n316=  if ($1 != ?) && ($1 == $null) {
n317=    var %tmp.count = 1
n318=    while (%tmp.count <= $snick(#,0)) {
n319=      .kick # $snick(#,%tmp.count) $unhex.ini($master(settings,kick.message))
n320=      inc %tmp.count
n321=      if (%tmp.count > $snick(#,0)) { break }
n322=    }
n323=    ;else { .raw mode # + $+ $str(o,$numtok(%tmp.user,44)) $replace(%tmp.user,$chr(44),$chr(32)) }
n324=    return
n325=  }
n326=}
n327=/menu.kick1 { 
n328=  var %tmp.count = 1
n329=  while (%tmp.count <= $snick(#,0)) {
n330=    .kick # $snick(#,%tmp.count) $1-
n331=    inc %tmp.count
n332=    if (%tmp.count > $snick(#,0)) { break }
n333=  }
n334=  return
n335=}
n336=/songs { return $master(settings,songs) }
n337=/check.room.vars {
n338=  if ($key(#,setupauto) == $null) { keywrite # setupauto OFF }
n339=  if ($key(#,modelock) == $null) { keywrite # modelock OFF }
n340=  if ($key(#,topiclock) == $null) { keywrite # topiclock OFF } 
n341=  if ($key(#,kicklock) == $null) { keywrite # kicklock OFF }
n342=  if ($key(#,ban.lock) == $null) { keywrite # ban.lock OFF }
n343=  if ($key(#,GateScan) == $null) { keywrite # GateScan OFF }
n344=  if ($key(#,whoisonknock) == $null) { keywrite # whoisonknock OFF }
n345=  if ($key(#,unmaskonknock) == $null) { keywrite # unmaskonknock OFF }
n346=  if ($key(#,deop) == $null) { keywrite # deop OFF }
n347=  if ($key(#,modemaster) == $null) { keywrite # modemaster OFF }
n348=  return
n349=}
n350=status {
n351=  notice # $report(Status Report) - $report(Servers:,$null,$scid(0))
n352=  notice # $report(Total User Sockets:,$null,$sock(*,0)) - $report(Type: BNC:,$null,$sock(BNC*,0)) - $report(Boom:,$null,$sock(@Boom*,0)) - $report(Gate:,$null,$sock(@Gate*,0)) - $report(Split:,$null,$sock(@Split*,0)) - $report(Spy:,$null,$sock(Spy*,0)) - $report(Bot:,$null,$sock(Bot*,0))
n353=}
n354=;
n355=; the below returns the network IRC URL for connecting.
n356=;
n357=bAdd {
n358=  if ($1 == $null) { var %tmp.btad $network }
n359=  else { var %tmp.btad $1 }
n360=  if (%tmp.btad == local) || (%tmp.btad == localhost) { set %bAdd irc.localdomain.net }
n361=  if (%tmp.btad == dalnet) { set %bAdd irc.dal.net }
n362=  if (%tmp.btad == undernet) { set %bAdd us.undernet.org }
n363=  if (%tmp.btad == libera.chat) { set %bAdd irc.libera.chat }
n364=  if (%tmp.btad == deepnet) { set %bAdd irc.deepnet.chat }
n365=  ;else { set %bAdd $$?="Enter IRC login Address" }
n366=  return %bAdd
n367=}
n368=/ssipsave {
n369=  ;.msg %boss $report($1-)
n370=  var %tmp.x = $gettok($mircdir,1,92) $+ $chr(92) $+ $gettok($mircdir,2,92) $+ $chr(92) $+ text\IPTracker.txt
n371=  var %tmp.xx = $gettok($mircdir,1,92) $+ $chr(92) $+ $gettok($mircdir,2,92) $+ $chr(92) $+ text\LastSeen.txt
n372=  if ($exists(%tmp.x) == $false) { set %tmp $ip | .write -c %tmp.x $me *!*@ $+ $puttok($ip,$chr(42),4,46) }
n373=  if ($exists(%tmp.xx) == $false) { set %tmp $ip | .write -c %tmp.xx $me $asctime(mmm dd yyyy) on %current.Server in #StrangeScript at $time }
n374=  if (%ssipsave != ON) { return }
n375=  if ($4 == DNS) {
n376=    var %temp1 = $1
n377=    var %temp2 = $3
n378=    goto DNS.back
n379=  }
n380=  if ($gettok($address($1,2),-1,46) isalpha) { set %awaiting.dns. [ $+ [ $address($1,2) ] ] $1 $+ , $+ $2 | dns $1 | halt }
n381=  var %temp1 = $1
n382=  var %temp2 = $myaddress2($1)
n383=  :DNS.back
n384=  var %temp3 = $read(%tmp.x,s,$1)
n385=  if (%temp3 == $null) {
n386=    echo -t $2 $sys $report(IPTracker,Not on file,SAVING,%temp1,%temp2)
n387=    .write %tmp.xx %temp1 $asctime(mmm dd yyyy) on %current.Server in $2 at $time
n388=    var %temp3 = $addtok(%temp3,%temp2,44)
n389=    .write %tmp.x %temp1 %temp3
n390=    return
n391=  }
n392=  var %tmp = $readn
n393=  if ($istok(%temp3,%temp2,44) == $true) {
n394=    echo -t $2 $sys $report(IPTracker,Already on file,SKIPPING,%temp1,%temp2)
n395=    echo -t $2 $sys $report(LastSeen,$null,$null,$read(%tmp.xx,n,%tmp))
n396=    if (%ssipsave.IP == ON) { echo -t $2 $sys $report(IPTracker,Used ips,$null,%temp3) }
n397=    if (%ssipsave.IP == STATS) { echo -st $sys $report(IPTracker,Used ips,$null,%temp3) }
n398=    .write -l $+ %tmp %tmp.xx %temp1 $asctime(mmm dd yyyy) on %current.Server in $2 at $time
n399=    ;.write -l $+ %tmp %tmp.x %temp1 %temp3
n400=    return
n401=  }
n402=  if ($istok(%temp3,%temp2,44) == $false) {
n403=    echo -t $2 $sys $report(IPTracker,Already on file but new ip,UPDATING,%temp1,%temp2)
n404=    echo -t $2 $sys $report(LastSeen,$null,$null,$read(%tmp.xx,n,%tmp))
n405=    if (%ssipsave.IP == ON) { echo -t $2 $sys $report(IPTracker,Used ips,$null,%temp2,%temp3) }
n406=    if (%ssipsave.IP == STATS) { echo -st $sys $report(IPTracker,Used ips,$null,%temp2,%temp3) }
n407=    if ($len(%tmp3) < 435) { var %temp3 = $addtok(%temp3,%temp2,44) | goto skip }
n408=    if ($len(%tmp3) => 435) { var %temp3 = $puttok(%temp3,%temp2,1,44) }
n409=    :skip
n410=    .write -l $+ %tmp %tmp.xx %temp1 $asctime(mmm dd yyyy) on %current.server in $2 at $time
n411=    .write -l $+ %tmp %tmp.x %temp1 %temp3
n412=    return
n413=  }
n414=}
n415=/seen { 
n416=  if ($1 == HELP) $report(Format:,/seen <nick>,last time a nick was seen and where).active
n417=  if ($1 == $null) { msg # $report(Format,$null,$null,.seen <nick>) | halt }
n418=  else { 
n419=    var %tmp.x = $gettok($mircdir,1,92) $+ $chr(92) $+ $gettok($mircdir,2,92) $+ $chr(92) $+ text\LastSeen.txt
n420=    var %tmp.xx = $read(%tmp.x,s,$2)
n421=    if (%tmp.xx == $null) { var %tmp.xx = User not in database }
n422=    msg # $report(LastSeen,$2,$null,%tmp.xx)
n423=  }
n424=}
n425=convert.temp {
n426=  if ($2 == F) {
n427=    ;var %tmp.ans2 = $1
n428=    ; var %tmp.ans = $calc((%tmp.ans2 − 32) × 5/9) 
n429=    ; $report(%tmp.ans).active
n430=  }
n431=  if ($2 == C) {
n432=    ;(35°C × 9/5) + 32 = 95°F
n433=  }
n434=}
n435=/come {
n436=  ctcp $key(settings,botnick) do join #
n437=}
